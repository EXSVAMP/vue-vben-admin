import{g as e,m as t,I as a,d as l,B as r,a as o,u as n,i as s,j as i,k as c,l as u,n as d,r as f,o as m,f as g,p,q as b,t as y}from"./index.aa8837b6.js";import{C as v}from"./index.2add1d3e.js";import{F as h}from"./index.6ee7de89.js";import"./index.16ed14f7.js";import{I as j}from"./index.205d70bf.js";import{D as w}from"./index.83844f43.js";import{C,R as S}from"./index.fb14b84c.js";import{b as F,c as x,L as O,d as _}from"./useLogin.c197d594.js";import{G as k}from"./GithubFilled.55d4b6a7.js";import{W as L,A as I}from"./WechatFilled.9f4fc438.js";import"./vendor.3b1829c7.js";import"./findIndex.ed3ee191.js";import"./isEqual.4de048ea.js";import"./get.e5fb9fc7.js";import"./_baseProperty.74f89655.js";import"./toInteger.7ffdaced.js";import"./responsiveObserve.c545f1cc.js";import"./SearchOutlined.746274d7.js";import"./EyeOutlined.1675c999.js";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135 66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6-63.8 0-117.8 43.1-137.1 101-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101 33 0 61-8.7 82.9-23.4 26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1 0 74.7-26.7 137.4-73 180.1z"}}]},name:"google-circle",theme:"filled"};function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var P=function(l,r){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){D(e,t,a[t])}))}return e}({},l,r.attrs);return e(a,t(o,{icon:E}),null)};P.displayName="GoogleCircleFilled",P.inheritAttrs=!1;var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 01-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 01-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 00229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"}}]},name:"twitter-circle",theme:"filled"};function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T=function(l,r){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){z(e,t,a[t])}))}return e}({},l,r.attrs);return e(a,t(o,{icon:R}),null)};T.displayName="TwitterCircleFilled",T.inheritAttrs=!1;var A=l({name:"LoginForm",components:{Checkbox:v,Button:r,Form:h,FormItem:h.Item,Input:j,Divider:w,InputPassword:j.Password,[C.name]:C,[S.name]:S,GithubFilled:k,WechatFilled:L,AlipayCircleFilled:I,GoogleCircleFilled:P,TwitterCircleFilled:T},setup(){const{t:e}=o(),{notification:t}=d(),{prefixCls:a}=n("login"),{setLoginState:l}=F(),{getFormRules:r}=x(),f=s(null),m=s(!1),g=s(!1),p=i({account:"vben",password:"123456"}),{validForm:b}=_(f);return{t:e,prefixCls:a,formRef:f,formData:p,getFormRules:r,rememberMe:g,handleLogin:async function(){const a=await b();if(a)try{m.value=!0;const l=await c.login(u({password:a.password,username:a.account}));l&&t.success({message:e("sys.login.loginSuccessTitle"),description:`${e("sys.login.loginSuccessDesc")}: ${l.realName}`,duration:3})}finally{m.value=!1}},loading:m,setLoginState:l,LoginStateEnum:O}}});A.render=function(t,a,l,r,o,n){const s=f("Input"),i=f("FormItem"),c=f("InputPassword"),u=f("Checkbox"),d=f("ACol"),v=f("Button"),h=f("ARow"),j=f("Divider"),w=f("GithubFilled"),C=f("WechatFilled"),S=f("AlipayCircleFilled"),F=f("GoogleCircleFilled"),x=f("TwitterCircleFilled"),O=f("Form");return m(),g(O,{class:"p-4",model:t.formData,rules:t.getFormRules,ref:"formRef"},{default:p((()=>[e(i,{name:"account",class:"enter-x"},{default:p((()=>[e(s,{size:"large",value:t.formData.account,"onUpdate:value":a[1]||(a[1]=e=>t.formData.account=e),placeholder:t.t("sys.login.userName")},null,8,["value","placeholder"])])),_:1}),e(i,{name:"password",class:"enter-x"},{default:p((()=>[e(c,{size:"large",visibilityToggle:"",value:t.formData.password,"onUpdate:value":a[2]||(a[2]=e=>t.formData.password=e),placeholder:t.t("sys.login.password")},null,8,["value","placeholder"])])),_:1}),e(h,{class:"enter-x"},{default:p((()=>[e(d,{span:12},{default:p((()=>[e(i,null,{default:p((()=>[e(u,{checked:t.rememberMe,"onUpdate:checked":a[3]||(a[3]=e=>t.rememberMe=e),size:"small"},{default:p((()=>[b(y(t.t("sys.login.rememberMe")),1)])),_:1},8,["checked"])])),_:1})])),_:1}),e(d,{span:12},{default:p((()=>[e(i,{style:{"text-align":"right"}},{default:p((()=>[e(v,{type:"link",size:"small",onClick:a[4]||(a[4]=e=>t.setLoginState(t.LoginStateEnum.RESET_PASSWORD))},{default:p((()=>[b(y(t.t("sys.login.forgetPassword")),1)])),_:1})])),_:1})])),_:1})])),_:1}),e(i,{class:"enter-x"},{default:p((()=>[e(v,{type:"primary",size:"large",block:"",onClick:t.handleLogin,loading:t.loading,class:"enter-x"},{default:p((()=>[b(y(t.t("sys.login.loginButton")),1)])),_:1},8,["onClick","loading"])])),_:1}),e(h,{class:"enter-x"},{default:p((()=>[e(d,{span:7},{default:p((()=>[e(v,{block:"",onClick:a[5]||(a[5]=e=>t.setLoginState(t.LoginStateEnum.MOBILE))},{default:p((()=>[b(y(t.t("sys.login.mobileSignInFormTitle")),1)])),_:1})])),_:1}),e(d,{span:8,offset:1},{default:p((()=>[e(v,{block:"",onClick:a[6]||(a[6]=e=>t.setLoginState(t.LoginStateEnum.QR_CODE))},{default:p((()=>[b(y(t.t("sys.login.qrSignInFormTitle")),1)])),_:1})])),_:1}),e(d,{span:7,offset:1},{default:p((()=>[e(v,{block:"",onClick:a[7]||(a[7]=e=>t.setLoginState(t.LoginStateEnum.REGISTER))},{default:p((()=>[b(y(t.t("sys.login.registerButton")),1)])),_:1})])),_:1})])),_:1}),e(j,null,{default:p((()=>[b(y(t.t("sys.login.otherSignIn")),1)])),_:1}),e("div",{class:["flex justify-evenly enter-x",`${t.prefixCls}-sign-in-way`]},[e(w),e(C),e(S),e(F),e(x)],2)])),_:1},8,["model","rules"])};export default A;
