var e,s,o=Object.assign;import{i as r,a as n,c as t,s as i}from"./index.8ee268f5.js";(s=e||(e={}))[s.LOGIN=0]="LOGIN",s[s.REGISTER=1]="REGISTER",s[s.RESET_PASSWORD=2]="RESET_PASSWORD",s[s.MOBILE=3]="MOBILE",s[s.QR_CODE=4]="QR_CODE";const a=r(0);function l(){const{t:e}=n();return{getFormTitle:t((()=>({2:e("sys.login.forgetFormTitle"),0:e("sys.login.signInFormTitle"),1:e("sys.login.signUpFormTitle"),3:e("sys.login.mobileSignInFormTitle"),4:e("sys.login.qrSignInFormTitle")}[i(a)])))}}function c(){return{setLoginState:function(e){a.value=e},getLoginState:t((()=>a.value))}}function g(){return{getShowLogin:t((()=>0===i(a))),getShowResetPassword:t((()=>2===i(a))),getShowRegister:t((()=>1===i(a))),getShowMobile:t((()=>3===i(a))),getShowQrCode:t((()=>4===i(a)))}}function u(e){return{validForm:async function(){const s=i(e);if(!s)return;return await s.validate()}}}function d(e){const{t:s}=n(),r=t((()=>m(s("sys.login.accountPlaceholder")))),l=t((()=>m(s("sys.login.passwordPlaceholder")))),c=t((()=>m(s("sys.login.smsPlaceholder")))),g=t((()=>m(s("sys.login.mobilePlaceholder")))),u=async(e,o)=>o?Promise.resolve():Promise.reject(s("sys.login.policyPlaceholder"));return{getFormRules:t((()=>{const n=i(r),t=i(l),d={sms:i(c),mobile:i(g)};switch(i(a)){case 1:return o({account:n,password:t,confirmPassword:[{validator:(m=null==e?void 0:e.password,async(e,o)=>o?o!==m?Promise.reject(s("sys.login.diffPwd")):Promise.resolve():Promise.reject(s("sys.login.passwordPlaceholder"))),trigger:"change"}],policy:[{validator:u,trigger:"change"}]},d);case 2:return o({account:n},d);case 3:return d;default:return{account:n,password:t}}var m}))}}function m(e){return[{required:!0,message:e,trigger:"change"}]}export{e as L,g as a,c as b,d as c,u as d,l as u};
